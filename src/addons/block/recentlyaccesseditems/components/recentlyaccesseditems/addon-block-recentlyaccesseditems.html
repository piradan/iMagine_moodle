<ion-content>
    <!-- Course Progress Section -->
    <ion-card *ngIf="courseProgress.length" class="progress-card">
        <ion-card-header>
            <ion-card-title>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.progress' | translate }}</h2>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-item *ngFor="let course of courseProgress" lines="full">
                <ion-label>
                    <h3>{{course.courseName}}</h3>
                    <div class="progress-container">
                        <ion-progress-bar [value]="course.progress / 100"></ion-progress-bar>
                        <p class="progress-text">{{course.progress}}% {{ 'core.complete' | translate }}</p>
                    </div>
                </ion-label>
            </ion-item>
        </ion-card-content>
    </ion-card>

    <!-- Badges Section -->
    <ion-card *ngIf="badges.length" class="badges-card">
        <ion-card-header>
            <ion-card-title>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.badges' | translate }}</h2>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-item *ngFor="let badge of badges" lines="full" class="badge-item">
                <ion-avatar slot="start" class="badge-avatar">
                    <img [src]="badge.badgeurl" [alt]="badge.name">
                </ion-avatar>
                <ion-label>
                    <h3 class="badge-title">{{badge.name}}</h3>
                    <p class="badge-desc">{{badge.description}}</p>
                    <p class="badge-date">{{ badge.dateissued | coreFormatDate }}</p>
                </ion-label>
            </ion-item>
        </ion-card-content>
    </ion-card>

    <!-- Achievements Section -->
    <ion-card *ngIf="achievements.length" class="achievements-card">
        <ion-card-header>
            <ion-card-title>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.achievements' | translate }}</h2>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-item *ngFor="let achievement of achievements" lines="full">
                <ion-icon [name]="achievement.icon" slot="start" [aria-label]="achievement.title"></ion-icon>
                <ion-label>
                    <h3>{{achievement.title}}</h3>
                    <p>{{achievement.description}}</p>
                    <p class="achievement-date">{{achievement.date | coreFormatDate}}</p>
                </ion-label>
            </ion-item>
        </ion-card-content>
    </ion-card>

    <!-- Certificates Section -->
    <ion-card *ngIf="certificates.length" class="certificates-card">
        <ion-card-header>
            <ion-card-title>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.certificates' | translate }}</h2>
            </ion-card-title>
        </ion-card-header>
        <ion-card-content>
            <ion-item *ngFor="let certificate of certificates" [href]="certificate.downloadurl" detail="true" lines="full">
                <ion-icon name="document-text" slot="start" aria-label="Certificate"></ion-icon>
                <ion-label>
                    <h3>{{certificate.name}}</h3>
                    <p>{{ certificate.timecreated | coreFormatDate }}</p>
                </ion-label>
            </ion-item>
        </ion-card-content>
    </ion-card>

    <!-- Empty State -->
    <ion-card *ngIf="!courseProgress.length && !badges.length && !achievements.length && !certificates.length">
        <ion-item>
            <ion-label class="ion-text-center">
                {{ 'addon.block_recentlyaccesseditems.noitems' | translate }}
            </ion-label>
        </ion-item>
    </ion-card>
</ion-content>