<ion-card>
    <core-loading [hideUntil]="loaded">
        <!-- Badges Section -->
        <ion-item-divider>
            <ion-label>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.viewbadges' | translate }}</h2>
            </ion-label>
        </ion-item-divider>
        <ion-item *ngFor="let badge of badges">
            <ion-avatar slot="start">
                <img [src]="badge.badgeurl" [alt]="badge.name">
            </ion-avatar>
            <ion-label>
                <h3>{{badge.name}}</h3>
                <p>{{badge.description}}</p>
            </ion-label>
        </ion-item>
        <ion-item *ngIf="badges.length === 0">
            <ion-label>{{ 'addon.block_recentlyaccesseditems.nobadges' | translate }}</ion-label>
        </ion-item>

        <!-- Certificates Section -->
        <ion-item-divider>
            <ion-label>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.viewcertificates' | translate }}</h2>
            </ion-label>
        </ion-item-divider>
        <ion-item *ngFor="let cert of certificates" [href]="cert.downloadurl" target="_blank">
            <ion-icon name="document-text" slot="start"></ion-icon>
            <ion-label>
                <h3>{{cert.name}}</h3>
            </ion-label>
            <ion-button slot="end" fill="clear">
                <ion-icon name="download" slot="icon-only"></ion-icon>
            </ion-button>
        </ion-item>
        <ion-item *ngIf="certificates.length === 0">
            <ion-label>{{ 'addon.block_recentlyaccesseditems.nocertificates' | translate }}</ion-label>
        </ion-item>

        <!-- Recent Achievements -->
        <ion-item-divider>
            <ion-label>
                <h2 class="section-title">{{ 'addon.block_recentlyaccesseditems.recentachievements' | translate }}</h2>
            </ion-label>
        </ion-item-divider>
        <ion-item *ngFor="let achievement of achievements">
            <ion-icon [name]="achievement.icon" slot="start"></ion-icon>
            <ion-label>
                <h3>{{achievement.title}}</h3>
                <p>{{achievement.description}}</p>
                <p class="achievement-date">{{achievement.date | date:'medium'}}</p>
            </ion-label>
        </ion-item>
        <ion-item *ngIf="achievements.length === 0">
            <ion-label>{{ 'addon.block_recentlyaccesseditems.noachievements' | translate }}</ion-label>
        </ion-item>
    </core-loading>
</ion-card>